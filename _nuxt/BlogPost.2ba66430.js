import{B as U,b as p,C as b,a as $,x as j,y as V,q,D as G,o as _,e as P,h as O,t as N,F as J,r as K,c as Q,u as X,j as Y,p as Z,f as tt}from"./entry.1076978e.js";import{_ as et}from"./_plugin-vue_export-helper.c27b6911.js";const nt=()=>U().$img,rt={src:{type:String,required:!0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},preload:{type:Boolean,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0},crossorigin:{type:[Boolean,String],default:void 0,validator:t=>["anonymous","use-credentials","",!0,!1].includes(t)},decoding:{type:String,default:void 0,validator:t=>["async","auto","sync"].includes(t)}},ot=t=>{const e=p(()=>({provider:t.provider,preset:t.preset})),n=p(()=>({width:b(t.width),height:b(t.height),alt:t.alt,referrerpolicy:t.referrerpolicy,usemap:t.usemap,longdesc:t.longdesc,ismap:t.ismap,crossorigin:t.crossorigin===!0?"anonymous":t.crossorigin||void 0,loading:t.loading,decoding:t.decoding})),i=p(()=>({...t.modifiers,width:b(t.width),height:b(t.height),format:t.format,quality:t.quality,background:t.background,fit:t.fit}));return{options:e,attrs:n,modifiers:i}},it={...rt,placeholder:{type:[Boolean,String,Number,Array],default:void 0}},st=$({name:"NuxtImg",props:it,emits:["load"],setup:(t,e)=>{const n=nt(),i=ot(t),u=j(!1),l=p(()=>n.getSizes(t.src,{...i.options.value,sizes:t.sizes,modifiers:{...i.modifiers.value,width:b(t.width),height:b(t.height)}})),f=p(()=>{const r={...i.attrs.value,"data-nuxt-img":""};return t.sizes&&(r.sizes=l.value.sizes,r.srcset=l.value.srcset),r}),s=p(()=>{let r=t.placeholder;if(r===""&&(r=!0),!r||u.value)return!1;if(typeof r=="string")return r;const a=Array.isArray(r)?r:typeof r=="number"?[r,r]:[10,10];return n(t.src,{...i.modifiers.value,width:a[0],height:a[1],quality:a[2]||50},i.options.value)}),o=p(()=>t.sizes?l.value.src:n(t.src,i.modifiers.value,i.options.value)),d=p(()=>s.value?s.value:o.value);if(t.preload){const r=Object.values(l.value).every(a=>a);V({link:[{rel:"preload",as:"image",...r?{href:l.value.src,imagesizes:l.value.sizes,imagesrcset:l.value.srcset}:{href:d.value}}]})}const c=j();return q(()=>{if(s.value){const r=new Image;r.src=o.value,r.onload=a=>{c.value.src=o.value,u.value=!0,e.emit("load",a)}}else c.value.onload=r=>{e.emit("load",r)}}),()=>G("img",{ref:c,key:d.value,src:d.value,...f.value,...e.attrs})}}),lt=""+new URL("blog.6b9f0b4d.svg",import.meta.url).href;function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),n.push.apply(n,i)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H(Object(n),!0).forEach(function(i){at(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function I(t){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(t)}function at(t,e,n){return(e=function(i){var u=function(l,f){if(typeof l!="object"||l===null)return l;var s=l[Symbol.toPrimitive];if(s!==void 0){var o=s.call(l,f||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(l)}(i,"string");return typeof u=="symbol"?u:String(u)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ut(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(o,d){if(o){if(typeof o=="string")return T(o,d);var c=Object.prototype.toString.call(o).slice(8,-1);return c==="Object"&&o.constructor&&(c=o.constructor.name),c==="Map"||c==="Set"?Array.from(o):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?T(o,d):void 0}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var i=0,u=function(){};return{s:u,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(o){throw o},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,f=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var o=n.next();return f=o.done,o},e:function(o){s=!0,l=o},f:function(){try{f||n.return==null||n.return()}finally{if(s)throw l}}}}var x=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.height),i=e.lineHeight==="normal"?1.2*parseFloat(e.fontSize):parseFloat(e.lineHeight);return n===0&&i===0?0:Math.ceil(n/i)},ct=function(){return typeof CSS<"u"&&CSS.supports("display","-webkit-box")&&CSS.supports("-webkit-line-clamp","3")&&CSS.supports("-webkit-box-orient","vertical")},k=new WeakMap,m=function(t){return k.get(t)},S=function(t,e){k.set(t,e)},L=function(t){return{hasEllipsis:m(t).hasEllipsis}},M=function(t){var e=v({},m(t));e!=null&&e.observer&&(e==null||e.observer.disconnect()),e!=null&&e.observer&&(e==null||delete e.prevWidth),e!=null&&e.observer&&(e==null||delete e.prevHeight),e!=null&&e.observer&&(e==null||delete e.observer),S(t,e)},h={mode:"css",lines:3,ellipsis:". . .",midWord:!0,textContent:null},dt=function(t){if(typeof t=="number")return parseInt(t.toString());if(typeof t=="string"){var e=parseInt(t);if(!isNaN(e))return e}return h.lines},ft=function(t){return ct()?t==="css"||t==="js"?t:h.mode:"js"},vt=function(t){return typeof t=="string"?t:typeof t=="number"?t.toString():h.ellipsis},pt=function(t){return typeof t=="boolean"?t:h.midWord},yt=function(t){return typeof t=="string"?t:typeof t=="number"?t.toString():h.textContent},D=function(t){var e,n=m(t);t.textContent=(e=n==null?void 0:n.fullText)!==null&&e!==void 0?e:t.textContent,t.style.display="",t.style.webkitLineClamp="",t.style.webkitBoxOrient="",t.style.overflow=""},mt=function(t){D(t),M(t),function(e){k.delete(e)}(t)},gt=function(t,e,n){var i=!function(s){return k.has(s)}(t),u=m(t),l=function(s){if(I(s)!=="object"||s===null)return h;var o=s,d=o.mode,c=o.lines,r=o.ellipsis,a=o.midWord,y=o.textContent;return{mode:ft(d),lines:dt(c),ellipsis:vt(r),midWord:pt(a),textContent:yt(y)}}(e);S(t,v(v(v({},u),l),{},{hasEllipsis:!i&&(u==null?void 0:u.hasEllipsis),fullText:l.textContent?l.textContent:i?t.textContent:u==null?void 0:u.fullText}));var f=function(){var s=L(t),o=m(t);D(t);var d=x(t);if(o.mode==="css"&&function(r,a){var y=a.lines,C=a.fullText;r.textContent=C,r.style.display="-webkit-box",r.style.webkitLineClamp=y.toString(),r.style.webkitBoxOrient="vertical",r.style.overflow="hidden"}(t,o),o.mode==="js"&&function(r,a){var y=a.lines,C=a.midWord,E=a.fullText,W=a.ellipsis,F=C?[". ",", "," ",""]:[". ",", "," "];if(r.textContent=E,r.style.display="",r.style.webkitLineClamp="",r.style.webkitBoxOrient="",r.style.overflow="",!(y<=0||x(r)<=y)){var g={unprocessed:E,processed:""};F.forEach(function(z){var A,w=ut(g.unprocessed.split(z));try{for(w.s();!(A=w.n()).done;){var B=A.value;if(r.textContent="".concat(g.processed).concat(B).concat(z).concat(W),x(r)>y){g.unprocessed=B;break}g.processed="".concat(g.processed).concat(B).concat(z)}}catch(R){w.e(R)}finally{w.f()}}),r.textContent="".concat(g.processed.trim()).concat(W)}}(t,o),S(t,v(v({},o),{},{hasEllipsis:x(t)<d})),n){var c=L(t);n(c,s)}};if(typeof ResizeObserver<"u")return M(t),void function(s,o){var d=m(s),c=d.observer||new ResizeObserver(function(){var r=m(s);if(s.clientWidth!==r.prevWidth||s.clientHeight!==r.prevHeight){o();var a=v({},r);a.prevWidth=s.clientWidth,a.prevHeight=s.clientHeight,S(s,a)}});c.observe(s),S(s,v(v({},d),{},{observer:c}))}(t,f);f()};const bt=t=>(Z("data-v-d9998cd5"),t=t(),tt(),t),ht={class:"blogpost"},St={class:"date"},wt=["innerHTML"],_t=bt(()=>O("img",{src:lt,alt:"rest des blogposts anzeigen"},null,-1)),xt=[_t],Ot=$({__name:"BlogPost",props:{post:{type:Object,required:!0},single:{type:Boolean,default:!1}},setup(t){const e=t,n=j(!1),i=j(null);q(()=>{e.single?n.value=!0:gt(i.value,{lines:12,midWord:!1},(l,f)=>{l.hasEllipsis||u()})});function u(){n.value=!0,mt(i.value)}return(l,f)=>{var o;const s=st;return _(),P("div",ht,[O("h3",null,N(t.post.Titel),1),O("div",St,N(t.post.datum),1),(_(!0),P(J,null,K((o=t.post.Media)==null?void 0:o.data,d=>{var c;return _(),Q(s,{format:"avif",src:"https://kkj-backend.perspective-daily.de"+((c=d.attributes)==null?void 0:c.url),alt:""},null,8,["src"])}),256)),O("div",{ref_key:"$content",ref:i,class:"content",innerHTML:e.post.Inhalt},null,8,wt),X(n)?Y("",!0):(_(),P("div",{key:0,class:"showmore",onClick:f[0]||(f[0]=d=>u())},xt))])}}});const Ct=et(Ot,[["__scopeId","data-v-d9998cd5"]]);export{Ct as _,st as a};
