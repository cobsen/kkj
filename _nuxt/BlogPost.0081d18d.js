import{C as x,b as l,D as g,a as I,y as _,A as $,s as N,E as A,o as c,e as p,j,G as q,i as f,t as k,u as S,F as w,r as z,c as B,k as M,H as C,p as L,h as D,f as F}from"./entry.28c9d97a.js";const O=()=>x().$img,P={src:{type:String,required:!0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},preload:{type:Boolean,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)}},H=e=>{const s=l(()=>({provider:e.provider,preset:e.preset})),o=l(()=>({width:g(e.width),height:g(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding})),n=l(()=>({...e.modifiers,width:g(e.width),height:g(e.height),format:e.format,quality:e.quality,background:e.background,fit:e.fit}));return{options:s,attrs:o,modifiers:n}},E={...P,placeholder:{type:[Boolean,String,Number,Array],default:void 0}},J=I({name:"NuxtImg",props:E,emits:["load"],setup:(e,s)=>{const o=O(),n=H(e),h=_(!1),u=l(()=>o.getSizes(e.src,{...n.options.value,sizes:e.sizes,modifiers:{...n.modifiers.value,width:g(e.width),height:g(e.height)}})),b=l(()=>{const t={...n.attrs.value,"data-nuxt-img":""};return e.sizes&&(t.sizes=u.value.sizes,t.srcset=u.value.srcset),t}),i=l(()=>{let t=e.placeholder;if(t===""&&(t=!0),!t||h.value)return!1;if(typeof t=="string")return t;const r=Array.isArray(t)?t:typeof t=="number"?[t,t]:[10,10];return o(e.src,{...n.modifiers.value,width:r[0],height:r[1],quality:r[2]||50},n.options.value)}),a=l(()=>e.sizes?u.value.src:o(e.src,n.modifiers.value,n.options.value)),v=l(()=>i.value?i.value:a.value);if(e.preload){const t=Object.values(u.value).every(r=>r);$({link:[{rel:"preload",as:"image",...t?{href:u.value.src,imagesizes:u.value.sizes,imagesrcset:u.value.srcset}:{href:v.value}}]})}const d=_();return N(()=>{if(i.value){const t=new Image;t.src=a.value,t.onload=r=>{d.value.src=a.value,h.value=!0,s.emit("load",r)}}else d.value.onload=t=>{s.emit("load",t)}}),()=>A("img",{ref:d,key:v.value,src:v.value,...b.value,...s.attrs})}}),T=""+new URL("blog.6b9f0b4d.svg",import.meta.url).href,V=e=>(L("data-v-6e0b3c57"),e=e(),D(),e),R={class:"blogpost"},G={class:"date"},U=["innerHTML"],Y=V(()=>f("img",{src:T,alt:"rest des blogposts anzeigen"},null,-1)),K=[Y],Q={class:"image-dummy"},W=I({__name:"BlogPost",props:{post:{type:Object,required:!0},single:{type:Boolean,default:!1},id:{type:[Number,String],required:!0}},setup(e){const s=e,o=_(!1),n=_(null);N(()=>{var i;(s.single||((i=s.post.Inhalt)==null?void 0:i.search("<hr>"))===-1)&&(o.value=!0)});function h(){o.value=!0}const u=l(()=>{var i,a;return s.single||o.value?(i=s.post.Inhalt)==null?void 0:i.replace("<hr>",""):(a=s.post.Inhalt)==null?void 0:a.split("<hr>")[0]}),b=l(()=>{const i=["Januar","Februar","MÃ¤rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],a=new Date(s.post.datum);return`${a.getDate()}. ${i[a.getMonth()]} ${a.getFullYear()}`});return(i,a)=>{var t,r;const v=C,d=J;return c(),p("div",R,[j(v,{to:`/nachrichten/${e.id}`},{default:q(()=>[f("h3",null,k(e.post.Titel),1)]),_:1},8,["to"]),f("div",G,k(S(b)),1),(c(!0),p(w,null,z((t=e.post.Media)==null?void 0:t.data,y=>{var m;return c(),B(d,{format:"avif",src:"https://kkj-backend.perspective-daily.de"+((m=y.attributes)==null?void 0:m.url),alt:""},null,8,["src"])}),256)),f("div",{ref_key:"$content",ref:n,class:"content",innerHTML:S(u)},null,8,U),S(o)?M("",!0):(c(),p("div",{key:0,class:"showmore",onClick:a[0]||(a[0]=y=>h())},K)),f("div",Q,[(c(!0),p(w,null,z((r=e.post.InlineBilder)==null?void 0:r.data,y=>{var m;return c(),B(d,{format:"avif",src:"https://kkj-backend.perspective-daily.de"+((m=y.attributes)==null?void 0:m.url),alt:""},null,8,["src"])}),256))])])}}});const Z=F(W,[["__scopeId","data-v-6e0b3c57"]]);export{Z as _,J as a};
